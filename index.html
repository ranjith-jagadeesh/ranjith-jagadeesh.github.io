<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranjith Jagadees | Software Engineer</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>RJ</text></svg>" type="image/svg+xml">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Using a more modern/elegant font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navigation might be redesigned significantly, maybe side dots or minimal -->
    <nav class="side-nav">
        <ul>
            <li><a href="#home" data-section="home" class="nav-dot active-dot"></a></li>
            <li><a href="#experience" data-section="experience" class="nav-dot"></a></li>
            <li><a href="#skills" data-section="skills" class="nav-dot"></a></li>
            <li><a href="#contact" data-section="contact" class="nav-dot"></a></li>
        </ul>
    </nav>

    <main id="page-container">
        
        <section id="home" class="page-section active-section">
            <div class="section-content hero-content">
                 <!-- Keep ::before/::after for background effects -->
                <h1>Ranjith<br>Jagadees</h1>
                <p class="subtitle">Software Engineer</p>
                <p class="tagline">Building innovative digital experiences.</p>
                <div class="scroll-indicator">
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </section>

        <section id="experience" class="page-section">
            <div class="section-content">
                <h2 class="section-title">My Journey</h2>
                <div class="timeline-container">
                    <!-- Timeline items can be animated uniquely -->
                    <div class="timeline-item" data-year="Present">
                        <div class="timeline-content">
                            <h3>Annalise.ai</h3>
                            <span class="timeline-role">Software Engineer</span>
                            <span class="timeline-duration">June 2023 - Present</span>
                        </div>
                    </div>
                    <div class="timeline-item" data-year="2023">
                        <div class="timeline-content">
                            <h3>Foodhub</h3>
                            <span class="timeline-role">Software Engineer</span>
                            <span class="timeline-duration">June 2021 - June 2023</span>
                        </div>
                    </div>
                     <div class="timeline-item" data-year="2021">
                        <div class="timeline-content">
                            <h3>Corezi</h3>
                            <span class="timeline-role">Software Developer</span>
                             <span class="timeline-duration">August 2019 - June 2021</span>
                        </div>
                    </div>
                    <div class="timeline-item" data-year="2019">
                        <div class="timeline-content">
                            <h3>Accenture</h3>
                             <span class="timeline-role">Software Engineer</span>
                             <span class="timeline-duration">January 2017 - August 2019</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="skills" class="page-section">
            <div class="section-content">
                 <h2 class="section-title">Expertise</h2>
                 <div class="skills-visualizer">
                    <!-- Skills could be represented more visually, e.g., orbiting elements -->
                    <div class="skill-orbit">
                        <div class="skill-item backend">
                            <i class="fas fa-server"></i>
                            <span>Backend</span>
                            <div class="skill-details">Node.js, Python, REST APIs</div>
                        </div>
                         <div class="skill-item devops">
                             <i class="fas fa-tools"></i>
                             <span>DevOps</span>
                             <div class="skill-details">Docker, AWS, Git, CI/CD</div>
                        </div>
                         <div class="skill-item cloud">
                             <i class="fas fa-cloud"></i>
                             <span>Cloud</span>
                             <div class="skill-details">AWS (EC2, S3, Lambda), Serverless</div>
                         </div>
                         <div class="skill-item database">
                             <i class="fas fa-database"></i>
                             <span>Databases</span>
                             <div class="skill-details">SQL, NoSQL (MongoDB)</div>
                         </div>
                        <!-- Add more skills as needed -->
                    </div>
                 </div>
            </div>
        </section>

        <section id="contact" class="page-section">
             <div class="section-content contact-content">
                <h2 class="section-title">Connect</h2>
                <div class="contact-wrapper">
                    <div class="contact-info">
                        <p>Interested in collaborating or have a question?</p>
                        <p>Reach out via the form or connect on social media.</p>
                         <div class="social-links-contact">
                             <a href="https://www.linkedin.com/in/ranjith-jagadees/" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                             <a href="https://github.com/ranjith-jagadeesh" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
                         </div>
                    </div>
                    <div class="contact-form-container">
                        <form id="contactForm" action="https://formsubmit.co/ranjithjagadees@gmail.com" method="POST">
                            <div class="form-group">
                                <input type="text" id="name" name="name" required placeholder=" ">
                                <label for="name">Name</label>
                             </div>
                            <div class="form-group">
                                 <input type="email" id="email" name="email" required placeholder=" ">
                                 <label for="email">Email</label>
                             </div>
                             <div class="form-group">
                                 <textarea id="message" name="message" rows="4" required placeholder=" "></textarea>
                                 <label for="message">Message</label>
                            </div>
                            <input type="text" name="_honey" style="display:none">
                            <input type="hidden" name="_captcha" value="false">
                            <button type="submit" class="btn">Send <i class="fas fa-paper-plane"></i></button>
                        </form>
                        <div id="thankYouMessage" class="thank-you-message" style="display: none;">
                             <h3>Thank You!</h3>
                            <p>Your message is on its way.</p>
                         </div>
                    </div>
                </div>
             </div>
         </section>
         
         <!-- Footer integrated or redesigned -->
         <footer class="site-footer">
             <div class="footer-content">
                <p class="copyright">&copy; <span id="current-year"></span> Ranjith Jagadees. All rights reserved.</p>
                <p class="design-credit">
                    <i>"Creativity is intelligence having fun." - Design Assisted by AI</i> 
                    <i class="fas fa-robot"></i> <i class="fas fa-wand-magic-sparkles"></i>
                 </p>
             </div>
        </footer>

    </main> <!-- End #page-container -->

    <!-- Background elements for visual effects -->
    <div class="background-elements">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('.page-section');
            const navDots = document.querySelectorAll('.nav-dot');
            const pageContainer = document.getElementById('page-container');
            let currentSectionIndex = 0;
            let isScrolling = false;
            const scrollThreshold = 50; // Sensitivity for scroll detection
            let touchStartY = 0;

            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // --- Navigation and Section Activation (Simplified for click handling) ---
            function scrollToSection(index) {
                if (index < 0 || index >= sections.length) return;
                
                isScrolling = true; // Prevent conflicting observer updates during click-scroll
                
                const targetSection = sections[index];
                targetSection.scrollIntoView({ behavior: 'smooth' });
                
                // Let the observer handle class updates, but reset isScrolling after scroll likely finishes
                setTimeout(() => {
                    isScrolling = false;
                }, 1000); // Adjust timeout if scroll duration is longer
            }

            // Nav dot clicks
            navDots.forEach((dot, index) => {
                dot.addEventListener('click', (e) => {
                    e.preventDefault();
                    // Removed isScrolling check here, allow clicking even if observer is mid-update?
                    // Or keep it if spam-clicking causes issues
                    scrollToSection(index);
                });
            });
            
            // --- Scroll/Wheel/Touch Handling for Section Navigation (Removed) ---
            // Native scroll + CSS Snap handles this now.
            // Listeners below are just for reference or potential future additions.

            // // Debounce wheel events
            // let wheelTimeout;
            // window.addEventListener('wheel', (e) => {
            //     // e.preventDefault(); // Prevent default scrolling - REMOVED
            //     // clearTimeout(wheelTimeout);
            //     // wheelTimeout = setTimeout(() => {
            //     //      handleScrollIntent(e.deltaY); // REMOVE THIS CALL
            //     // }, 50); 
            // }, { passive: true }); // Can likely make passive: true now

            // // Touch events
            // window.addEventListener('touchstart', (e) => {
            //      touchStartY = e.touches[0].clientY;
            // }, { passive: true });

            // window.addEventListener('touchmove', (e) => {
            //      // if (isScrolling) return; // Still might need isScrolling if clicks are active
            //      const touchEndY = e.touches[0].clientY;
            //      const deltaY = touchStartY - touchEndY; // Inverted compared to wheel delta

            //     // Need a larger threshold for touch to avoid accidental swipes
            //     // if (Math.abs(deltaY) > scrollThreshold * 1.5) { 
            //     //     handleScrollIntent(deltaY > 0 ? scrollThreshold + 1 : -scrollThreshold -1); // REMOVE THIS CALL
            //     //     touchStartY = touchEndY; // Reset start position to prevent rapid multi-scrolls
            //     // }
            //  }, { passive: true });


            // --- Intersection Observer for Section Visibility & Animations ---
            const sectionObserver = new IntersectionObserver((entries) => {
                 entries.forEach(entry => {
                    const sectionId = entry.target.id;
                    const correspondingDot = document.querySelector(`.side-nav a[href="#${sectionId}"]`);
                    
                    if (entry.isIntersecting && entry.intersectionRatio >= 0.6) { // Use threshold
                        if (isScrolling) return; // Don't update classes if scrolling via click
                        
                        // Update active classes
                        sections.forEach(s => s.classList.remove('active-section'));
                        navDots.forEach(d => d.classList.remove('active-dot'));
                        
                        entry.target.classList.add('active-section');
                        if (correspondingDot) {
                             correspondingDot.classList.add('active-dot');
                        }
                        
                        // Add class to trigger animations within the active section
                        entry.target.classList.add('in-view'); 
                        // Example: Animate timeline items
                        if (entry.target.id === 'experience') {
                            entry.target.querySelectorAll('.timeline-item').forEach((item, index) => {
                                item.style.transitionDelay = `${index * 0.15}s`;
                                item.classList.add('visible');
                             });
                        }
                        // Example: Animate skill items
                        if (entry.target.id === 'skills') {
                             entry.target.querySelectorAll('.skill-item').forEach((item, index) => {
                                item.style.transitionDelay = `${index * 0.1}s`;
                                item.classList.add('visible');
                             });
                        }
                    } else {
                         // Optional: Reset animations when section is not active/visible
                         // entry.target.classList.remove('in-view');
                         // Reset specific item animations if needed
                         // if (entry.target.id === 'experience') {
                         //    entry.target.querySelectorAll('.timeline-item').forEach(item => item.classList.remove('visible'));
                         // }
                         // if (entry.target.id === 'skills') {
                         //    entry.target.querySelectorAll('.skill-item').forEach(item => item.classList.remove('visible'));
                         // }
                     }
                 });
             }, { threshold: 0.6 }); // Trigger when 60% of the section is visible

            sections.forEach(section => {
                 sectionObserver.observe(section);
            });

            // --- Form Submission ---
            const contactForm = document.getElementById('contactForm');
            const thankYouMessage = document.getElementById('thankYouMessage');
            const formContainer = document.querySelector('.contact-form-container'); // Target the container

            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const form = this;
                    const submitButton = form.querySelector('.btn');
                    const submitButtonIcon = submitButton.querySelector('i');
                    const originalButtonText = 'Send '; // Store original text excluding icon

                    // Loading state
                    submitButton.disabled = true;
                    submitButtonIcon.classList.remove('fa-paper-plane');
                    submitButtonIcon.classList.add('fa-spinner', 'fa-spin');
                    submitButton.firstChild.textContent = 'Sending '; // Update text part only

                    fetch(form.action, {
                        method: 'POST',
                        body: new FormData(form),
                        headers: {
                            'Accept': 'application/json' // Recommended by FormSubmit for AJAX
                        }
                    })
                    .then(response => response.json()) // Expect JSON response from FormSubmit
                    .then(data => {
                        if (data.ok || response.ok) { // Check FormSubmit success or general HTTP success
                            // Animate form out, thank you message in
                            form.style.opacity = '0';
                            form.style.transform = 'translateY(20px)'; 
                            setTimeout(() => {
                                form.style.display = 'none';
                                thankYouMessage.style.display = 'block';
                                thankYouMessage.style.opacity = '1';
                                thankYouMessage.style.transform = 'translateY(0)';
                            }, 300); // Match CSS transition duration
                        } else {
                             // Handle submission error (e.g., show an error message)
                             console.error('Form submission error:', data);
                             throw new Error('Submission failed'); // Trigger catch block
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        // Reset button state on error
                        submitButton.disabled = false;
                        submitButtonIcon.classList.remove('fa-spinner', 'fa-spin');
                        submitButtonIcon.classList.add('fa-paper-plane');
                        submitButton.firstChild.textContent = originalButtonText; 
                        // Optionally show an error message to the user
                        alert('Sorry, there was an issue sending your message. Please try again later.');
                    });
                });
            }

            // --- Initial Setup ---
             // Add slight delay for initial animations
             setTimeout(() => {
                 document.body.classList.add('loaded');
                 // Observer will handle setting the first section active/in-view automatically on load
             }, 100);

            // Add floating animation to background shapes
             document.querySelectorAll('.background-elements .shape').forEach(shape => {
                shape.style.animation = `float ${Math.random() * 4 + 4}s ease-in-out infinite alternate`;
             });

        });
    </script>
</body>
</html>